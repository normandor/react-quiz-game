(this["webpackJsonpreact-quiz-app"]=this["webpackJsonpreact-quiz-app"]||[]).push([[0],{16:function(t,e,s){},17:function(t,e,s){},20:function(t,e,s){var n={"./data-quiz1.json":[22,3],"./data-quiz2.json":[23,4]};function i(t){if(!s.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],i=e[0];return s.e(e[1]).then((function(){return s.t(i,3)}))}i.keys=function(){return Object.keys(n)},i.id=20,t.exports=i},21:function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),r=s(11),a=s.n(r),c=(s(16),s(2)),o=s(3),u=s(5),l=s(4),h=(s(17),s(9)),p=s(6),j=s(0),d=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"fetchAnswers",value:function(){var t=this,e=[];if("YES"===this.props.data.ans.toUpperCase()||"NO"===this.props.data.ans.toUpperCase())return["YES","NO"];return["A","B","C","D"].forEach((function(s){var n="<br />".concat(s,".");t.props.data.q.indexOf(n)>0&&e.push(s)})),e}},{key:"render",value:function(){var t,e=this,s="".concat("/react-quiz-game","/").concat(this.props.data.serie,"/").concat(this.props.data.img,".jpg"),n=this.fetchAnswers();t=0!==n.length?Object.values(n).map(function(t,e){var s=this;return Object(j.jsx)("div",{className:"optionButtons",children:Object(j.jsx)("button",{className:"optionButtons",id:"answer-input-"+e,onClick:function(e){s.props.setAnswer(e,t)},disabled:!this.props.responsesEnabled,children:t})},e)}.bind(this)):Object(j.jsxs)("div",{className:"optionButtons",children:[" ",Object(j.jsx)("span",{className:"labelResponse",children:"R\xe9ponse"}),Object(j.jsx)("input",{id:"answerInputText",type:"text",className:"optionButtons",disabled:!this.props.responsesEnabled}),Object(j.jsx)("button",{onClick:function(t){e.props.setAnswer(t,document.getElementById("answerInputText").value)},children:"Accept"})]},"1");return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)("div",{className:"grid-image",children:Object(j.jsx)("img",{src:s,alt:"img",className:"questionImage"})}),Object(j.jsxs)("div",{className:"grid-question",children:[Object(j.jsx)("hr",{}),"Question ",parseInt(this.props.id)+1+" of "+parseInt(this.props.total)+":\n\n",Object(j.jsx)("hr",{}),Object(j.jsx)("h4",{className:"new-line",children:this.props.data.q.replaceAll("<br />","\n").replaceAll('<p class="question_weight">',"").replaceAll("</p>","\n")})]}),Object(j.jsxs)("div",{className:"grid-responses",children:[1===this.props.timerOn?Object(j.jsx)("div",{children:Object(j.jsxs)("svg",{width:"450",height:"30",children:[Object(j.jsx)("rect",{x:"-50",y:"20",width:"450",height:"15",style:{fill:"blue",stroke:"pink",opacity:.5}}),Object(j.jsx)("rect",{x:"-50",y:"20",width:450-30*this.props.seconds<0?0:450-30*this.props.seconds,height:"15",style:{fill:"red",stroke:"pink",opacity:.5}})]})}):Object(j.jsx)("div",{children:Object(j.jsx)("br",{})}),Object(j.jsxs)("form",{children:[t,Object(j.jsx)("br",{})]})]}),Object(j.jsxs)("div",{className:"grid-score",children:["Score: ",this.props.score]})]})}}]),s}(n.Component),b=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return this.props.showExplanation&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Wrong."}),Object(j.jsxs)("h4",{children:["Correct response: ",this.props.correct.toUpperCase(),"."]}),Object(j.jsxs)("h4",{className:"new-line",children:[" ",this.props.explanation.replaceAll("<br />","\n")]}),Object(j.jsx)("button",{onClick:this.props.nextQuestion,children:"Next question"})]})}}]),s}(n.Component),O=s(7),x=s.n(O),m=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return this.props.showCorrect&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Correct."}),Object(j.jsx)("button",{onClick:this.props.nextQuestion,children:"Next question"})]})}}]),s}(n.Component),f=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var s;return Object(c.a)(this,n),(s=e.call(this,t)).handleClick=function(){},s.nextQuestion=function(){if(s.setState({step:s.state.step+1,showCorrect:!1,showExplanation:!1,responsesEnabled:!0,seconds:s.time_answer}),s.state.step<s.state.quiz.questions.length-1){var t=s.state.quiz.questions[s.state.step+1].q;s.setState({seconds:s.time_answer+Math.floor(s.getTextReadingTime(t))})}s.startTimer()},s.showExplanation=function(){s.setState({showExplanation:!0,responsesEnabled:!1})},s.showCorrect=function(){s.setState({showCorrect:!0,responsesEnabled:!1})},s.setAnswer=function(t,e){t.preventDefault(),1===s.state.timerOn&&s.stopTimer();var n=0;e.toUpperCase()===s.state.quiz.questions[s.state.step].ans.toUpperCase()?(n=1,s.showCorrect(),s.setState({points:s.state.points+1})):s.showExplanation(),s.setState({user_answers_correct:[].concat(Object(h.a)(s.state.user_answers_correct),[n])},s.handleClick),s.setState({questions:[].concat(Object(h.a)(s.state.questions),[s.state.quiz.questions[s.state.step].id])},s.handleClick)},s.renderResult=function(){s.stopTimer();var t=Object.values(s.state.user_answers_correct).map((function(t,e){var s=this,n="".concat("/react-quiz-game","/").concat(this.state.quiz.questions[e].serie,"/").concat(this.state.quiz.questions[e].img,".jpg");return 1===t?Object(j.jsx)("span",{children:Object(j.jsx)("img",{alt:"img",onClick:function(){return alert(s.state.quiz.questions[e].exp.replaceAll("<br />","\n"))},className:"border-blue",src:n})},e):Object(j.jsx)("span",{children:Object(j.jsx)("img",{alt:"img",onClick:function(){return alert(s.state.quiz.questions[e].exp.replaceAll("<br />","\n"))},className:"border-red",src:n})},e)}),Object(p.a)(s)),e=Math.round(100*s.state.points/s.state.quiz.questions.length);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Results"}),Object(j.jsxs)("div",{children:[s.state.points,"/",s.state.quiz.questions.length,": ",e,"%"]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Answers"}),t]})]})},s.toggleTimer=function(){if(1===s.state.timerOn)return s.stopTimer(),s.setState({timerOn:0}),void x.a.set("timerOn",0);s.setState({timerOn:1,seconds:s.time_answer},s.startTimer),x.a.set("timerOn",1)},s.time_answer=15,s.state={showExplanation:!1,showCorrect:!1,responsesEnabled:!0,step:0,user_answers_correct:[],questions:[],seconds:s.time_answer,timerOn:x.a.get("timerOn")?parseInt(x.a.get("timerOn")):1,points:0},s.timer=0,s.countDown=s.countDown.bind(Object(p.a)(s)),s}return Object(o.a)(n,[{key:"startTimer",value:function(){1===this.state.timerOn&&(this.timer=setInterval(this.countDown,1e3))}},{key:"stopTimer",value:function(){clearInterval(this.timer)}},{key:"countDown",value:function(){var t=this.state.seconds-1;this.setState({seconds:t}),0===t&&(this.stopTimer(),this.setAnswer(new Event("click"),"--timeout--"))}},{key:"componentDidMount",value:function(){var t=this,e=s(10).parse(location.search).module;s(20)("./data-".concat(e,".json")).then((function(e){t.setState({quiz:e.default,seconds:t.time_answer+Math.floor(t.getTextReadingTime(e.default.questions[0].q))})})),this.startTimer()}},{key:"componentWillUnmount",value:function(){1===this.state.timerOn&&clearInterval(this.timer)}},{key:"getTextReadingTime",value:function(t){var e=t.split(" ").length/130;return Math.round(60*e*100)/100}},{key:"render",value:function(){var t,e;return(null===(t=this.state)||void 0===t||null===(e=t.quiz)||void 0===e?void 0:e.questions)?Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:this.state.quiz.title}),Object(j.jsx)("h4",{children:Object(j.jsx)("a",{href:"./",children:"Back"})}),Object(j.jsx)("h4",{onClick:this.toggleTimer,className:"text-left pointer",children:"Timer on/off"}),this.state.step<this.state.quiz.questions.length?Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{id:this.state.step,total:this.state.quiz.questions.length,data:this.state.quiz.questions[this.state.step],validateAnswers:this.handleClick,responsesEnabled:this.state.responsesEnabled,setAnswer:this.setAnswer,seconds:this.state.seconds,timerOn:this.state.timerOn,score:"".concat(this.state.points,"/").concat(this.state.quiz.questions.length)}),Object(j.jsx)("br",{}),Object(j.jsx)(b,{showExplanation:this.state.showExplanation,explanation:this.state.quiz.questions[this.state.step].exp,correct:this.state.quiz.questions[this.state.step].ans,nextQuestion:this.nextQuestion}),Object(j.jsx)(m,{showCorrect:this.state.showCorrect,nextQuestion:this.nextQuestion})]}):Object(j.jsx)("div",{children:this.renderResult()})]}):Object(j.jsx)("div",{})}}]),n}(n.Component),v=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h2",{children:"Select a quiz"}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"?module=quiz1",children:"Quiz 1"}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"?module=quiz2",children:"Quiz 2"}),Object(j.jsx)("br",{})]})}}]),s}(n.Component),q=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return"undefined"==typeof s(10).parse(location.search).module?Object(j.jsx)(v,{}):Object(j.jsx)(f,{})}}]),n}(n.Component);a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.7ccf663b.chunk.js.map